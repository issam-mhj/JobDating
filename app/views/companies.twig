{% include 'partials/sidebar.php' with {'currentUrl': currentUrl} %}
<!-- Main Content -->
<div
	class="flex-1">
	<!-- Top Navigation -->
	<div class="bg-white shadow-sm">
		<div class="flex justify-between items-center px-8 py-4">
			<h1 class="text-2xl font-bold text-gray-800">Gestion des Entreprises</h1>
			<div>
				<button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700" onclick="document.getElementById('addCompanyModal').classList.remove('hidden')">
					<i class="fas fa-plus mr-2"></i>Ajouter une entreprise
				</button>
				<a href="/logout" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600">
					<i class="fas fa-sign-out-alt mr-2"></i>Déconnexion
				</a>
			</div>
		</div>
	</div>

	<div
		class="p-8">
		<!-- Companies List -->
		<div class="bg-white rounded-xl shadow-sm p-6">
			<div class="flex justify-between items-center mb-6">
				<h2 class="text-xl font-bold">Liste des Entreprises</h2>
				<div class="flex space-x-2">
					<input type="text" placeholder="Rechercher une entreprise..." class="px-4 py-2 border rounded-lg">
					<button class="bg-gray-100 px-4 py-2 rounded-lg hover:bg-gray-200">
						<i class="fas fa-filter"></i>
					</button>
				</div>
			</div>
			<div class="overflow-x-auto">
				<table class="w-full">
					<thead class="bg-gray-50">
						<tr>
							<th class="p-4 text-left">Entreprise</th>
							<th class="p-4 text-left">Contact</th>
							<th class="p-4 text-left">Annonces</th>
							<th class="p-4 text-left">Statut</th>
							<th class="p-4 text-left">Actions</th>
						</tr>
					</thead>
					<tbody>
						{# {{dump(companies)}} #}
						{% for company in companies %}
							<tr class="border-b">
								<td class="p-4">
									<div class="flex items-center">
										<img src="/api/placeholder/40/40" alt="TechCorp" class="h-10 w-10 rounded-lg mr-3">
										<div>
											<div class="font-semibold">{{company.company_name}}</div>
											<div class="text-sm text-gray-500">Youssoufia, Maroc</div>
										</div>
									</div>
								</td>
								<td class="p-4">
									<div>contact@techcorp.com</div>
									<div class="text-sm text-gray-500">+212 5XX-XXXXXX</div>
								</td>
								<td class="p-4">8 annonces</td>
								<td class="p-4">
									<span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm">
										Actif
									</span>
								</td>
								<td class="p-4">
									<a href="/modifyCompany?id={{company.id}}" class="text-blue-600 hover:text-blue-700 mr-3">
										<i class="fas fa-edit"></i>
									</a>
									<a href="/deleteCompany?id={{company.id}}" class="text-red-600 hover:text-red-700">
										<i class="fas fa-trash"></i>
									</a>
								</td>
							</tr>
							{%endfor%}</tbody>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<!-- Add Company Modal -->
	<form id="signInForm" action="/Admin/Companies" method="POST" class="space-y-6" enctype="multipart/form-data">
		<div id="addCompanyModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
			<div class="bg-white rounded-xl p-8 max-w-2xl w-full">
				<div class="flex justify-between items-center mb-6">
					<h2 class="text-2xl font-bold">Ajouter une entreprise</h2>
					<button onclick="document.getElementById('addCompanyModal').classList.add('hidden')" class="text-gray-500 hover:text-gray-700">
						<i class="fas fa-times"></i>
					</button>
				</div>
				<form class="space-y-4">
					<div>
						<label class="block text-gray-700 mb-2">Nom de l'entreprise</label>
						<input type="text" name="name" class="w-full p-2 border rounded-lg" required>
					</div>
					<div class="grid grid-cols-2 gap-4">
						<div>
							<label class="block text-gray-700 mb-2">Email</label>
							<input type="email" name="email" class="w-full p-2 border rounded-lg" required>
						</div>
						<div>
							<label class="block text-gray-700 mb-2">Téléphone</label>
							<input type="tel" name="tel" class="w-full p-2 border rounded-lg" required>
						</div>
					</div>
					<div>
						<label class="block text-gray-700 mb-2">Adresse</label>
						<textarea class="w-full p-2 border rounded-lg" name="location" rows="2" required></textarea>
					</div>
					<div class="mb-4">
						<label class="block text-gray-700 text-sm font-medium mb-2" for="logo">
						Logo
						</label>
						<input
							type="file"
							id="logo"
							name="logo"
							required
							class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"
						>
					</div>
					<div>
						<label class="block text-gray-700 mb-2">Description</label>
						<textarea class="w-full p-2 border rounded-lg" name="details" rows="3" required></textarea>
					</div>
					<button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center">
						Continue
						<svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewbox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
						</svg>
					</button>
				</form>
			</div>
		</div>
	</form>
</div></div></body></html>
